# Парсер книг с сайта tululu.org
Программа скачивает книги и их описания с онлайн-библиотеки [https://tululu.org/](https://tululu.org/) и отображает их в виде сайта

С примером работы программы можно ознакомиться на GitHub Pages по ссылке: [https://elnarmen.github.io/online-library-parser/](https://elnarmen.github.io/online-library-parser/pages/index1.html)

## Как установить
На вашем компьютере уже должен быть установлен Python3. Для загрузки проекта откройте терминал и перейдите в папку, в которую хотите загрузить файлы.

Введите команду:
```
git clone https://github.com/elnarmen/online_library_parser.git
```
Перейдите в папку с проектом:
```
cd online_library_parser
```
Далее введите команду:
```
python -m venv venv
```
Активируйте виртуальное окружение и вернитесь в директорию проекта:
```
cd venv\Scripts
activate.bat
cd ../..
```
Используйте pip для установки зависимостей:

   ```
   pip install -r requirements.txt
   ```
По умолчанию скрипт работает с категорией "Научная фантастика (номер категории - 55)". Чтобы выбрать другую, в
папке с проектом создайте переменную `.env` и сохраните в ней номер категории.

## Запуск
Программа запускается в командной строке.

Следующая команда скачает все книги со страницы 700 (только доступные для скачивания)
```
python parse_tululu_category.py --start_page 700 --end_page 701
```
Или команда покороче:
```
python parse_tululu_category.py -s 700 -e 701
```
Вместо 700 и 701 можно ввести любые целые числа > 0. 

Пример для скачивания всех книг с 500 страницы до конца:
```
python parse_tululu_category.py --start_page 500
```

В директории с проектом создается папка `attachments`, в которую будут загруженны книги и фото обложек, а так же файл 'books_descriptions.json'
с описанием книг

При вводе не целого числа или числа, меньше 1, программа завершится с ошибкой:
`ValueError("Введите целое число больше 0")`
# Сайт

Для просмотра загруженных книг на веб-странице, запустите команду:
```
python render_website.py
```
По умолчанию программа ищет данные о книгах в папке 'attachments/books_descriptions.json'
Но вы можете указать свой путь, создав файл `.env` и сохранив в него переменную 
PATH_TO_DESCRIPTIONS, содержащую путь

Готово. Теперь Вы можете пользоваться библиотекой книг офлайн. Для этого перейдите по ссылке 
[http://127.0.0.1:5500/pages/index1.html](http://127.0.0.1:5500/pages/index1.html)
